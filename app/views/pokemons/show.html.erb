<div class="btn-back">
  <%= link_to "back", pokemons_path %>
</div>
<div class="container-pokemon-box">

    <div class="pokemon-header">
      <div class="d-flex align-items-end">
        <h1 id="pokemon-name"><%= @pokemon.name %></h1>
        <p>Level <%= @pokemon.level %></p>
      </div>

      <div id="pokemon-location" class="d-flex">
        <%= image_tag "location.png" %>
        <p><%= @pokemon.location %></p>
      </div>
    </div>

      <div class="pokemon-details d-flex">
        <!-- POKEMON PICTURE AND RATE -->
        <div class="pokemon-details-left">
          <div class="pokemon-img">
            <% picture = "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/#{@pokemon.pokedex_entry}.png" %>
            <%= image_tag picture, alt: @pokemon.name %>
          </div>

        <div class="pokemon-rate-box d-flex justify-content-end align-items-center">
          <p class="pokemon-rate">$<%= @pokemon.rate %></p>
          <p>/day</p>
        </div>


      </div>

      <div class="pokemon-details-right">
        <!-- GYM LEADER INFO-->
        <div class="pokemon-gym-leader d-flex justify-content-end align-items-center mt-2 border-bottom">
          <p><%= @gym_leader.email.split("@").first %></p>
          <div>
            <%= image_tag "pokemon-trainer.png", alt:"#{@gym_leader}'s picture", class:"avatar avatar-large" %>
          </div>
        </div>

        <!-- POKEMON DESCRIPTION -->
        <div class="pokemon-details-lower-right">
          <div class="mt-3">
            <h4>Description</h4>
            <p><%= @pokemon.description %></p>
          </div>
          <p><b>Type</b>: <%= @pokemon.pokemon_type %></p>

          <div class="booking-btn">
            <%= link_to "Book this PokÃ©mon", new_pokemon_booking_path(@pokemon), class:"btn btn-grad" %>
          </div>
        </div>
      </div>


    </div>

    <!--li><%#= link_to "Edit this Pokemon", edit_pokemon_path %></li-->
</div>

<div class="map-container">
  <div style="width: 100%vw; height: 55vw; position: relative;"
    data-controller="mapbox"
    data-mapbox-markers-value="<%= @markers.to_json %>"
    data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>
</div>

<div class="container-explore-box">
  <h2>Explore more pokemons</h2>

  <div class="pokemon-explore">

    <% @pokemons.sample(3).each do |p| %>
     <div class="pokemon-explore-card">
      <%= link_to pokemon_path(p) do %>
        <div class="col">
          <div class="card" style="width: 240px;">
            <% picture = "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/#{p.pokedex_entry}.png" %>
            <%= image_tag picture, class:"card-img-top", alt: p.name %>
            <div><p class="text-center">Level <%= p.level %></p></div>
            <div class="card-body d-flex justify-content-between border-top">
              <h5 class="card-title"><%= p.name  %></h5>
              <p class="card-text"> $<%= p.rate %>/day</p>
            </div>
          </div>
        </div>
      <% end %>
     </div>
    <% end %>
  </div>
</div>
